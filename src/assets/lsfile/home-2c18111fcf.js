function clearallhotCross(){$(".activvv").find(".cross-box li").unbind(),$(".activvv").find(".next").unbind(),$(".activvv").find(".prev").unbind(),window.clearTimeout(window.autoOpneHandle),window.clearTimeout(window.hotCross_out)}function autoOpne(){window.hotCross_liers=$(".hottype .activvv").find("li"),window.autoOpneIndex=0,autoDjs()}function autoDjs(){window.autoOpneHandle&&window.clearTimeout(window.autoOpneHandle);let t=window.hotCross_liers.length,s=Math.ceil((autoOpneIndex+1)/setCross_size);s>autoOpnePageIndex?$(".activvv .next").trigger("click"):s<autoOpnePageIndex?hotCross.goStart():(window.autoOpnePageIndex=s,window.hotCross_liers.eq(autoOpneIndex).addClass("active").siblings().removeClass("active"),window.autoOpneHandle=window.setTimeout(autoDjs,5e3),autoOpneIndex++,autoOpneIndex==t&&(autoOpneIndex=0))}function Cross(){this.setCross_count=0,this.setCross_page=1,this.setCross_len=$(".activvv").find("li").length,this.handl=null;let t=this;return $(".activvv").find(".cross-box").css({transform:"translateX(00px"}),this.goStart=(()=>{this.setCross_count=0,this.setCross_page=1,autoOpnePageIndex=1,this.setCross_len>5&&($(".activvv").find(".next").removeClass("disabel"),$(".activvv").find(".prev").addClass("disabel")),window.clearTimeout(window.autoOpneHandle),this.makeClass()}),$(".activvv").find(".next").click(()=>{this.setCross_page!=Math.ceil(this.setCross_len/setCross_size)&&(this.setCross_page++,window.autoOpneHandle&&window.clearTimeout(window.autoOpneHandle),autoOpnePageIndex=this.setCross_page,this.makeClass(),$(".activvv").find(".prev").removeClass("disabel"),this.setCross_page==Math.ceil(this.setCross_len/setCross_size)?$(".activvv").find(".next").addClass("disabel"):$(".activvv").find(".next").removeClass("disabel"))}),$(".activvv").find(".prev").click(()=>{1!=this.setCross_page&&(this.setCross_page--,window.autoOpneHandle&&window.clearTimeout(window.autoOpneHandle),autoOpnePageIndex=this.setCross_page,this.makeClass(),1==this.setCross_page?$(".activvv").find(".prev").addClass("disabel"):$(".activvv").find(".prev").removeClass("disabel"),$(".activvv").find(".next").removeClass("disabel"))}),$(".activvv").find(".cross-box li").mouseover(function(){t.handl&&window.clearTimeout(t.handl),window.clearTimeout(autoOpneHandle),window.clearTimeout(hotCross_out),t.handl=window.setTimeout(()=>{$(".activvv").find(".cross-box .active").removeClass("active"),$(this).addClass("active"),autoOpneIndex=$(this).index()},300)}),$(".activvv").find(".cross-box li").mouseout(function(t){window.hotCross_out=window.setTimeout(autoDjs,600)}),this.makeClass=(()=>{let t=0;t=this.setCross_page*setCross_size>this.setCross_len?(this.setCross_len-setCross_size)*setCross_itemWidth:(this.setCross_page-1)*setCross_size*setCross_itemWidth,$(".activvv").find(".cross-box").css("transform","translateX(-"+t+"px)"),(this.setCross_count<(this.setCross_page-1)*setCross_size||this.setCross_count>=this.setCross_page*setCross_size)&&(this.setCross_count=(this.setCross_page-1)*setCross_size),$(".activvv").find(".cross-box li").removeClass("active"),$(".activvv").find(".cross-box li").eq(this.setCross_count).addClass("active"),window.autoOpneIndex=this.setCross_count,autoDjs()}),this}function change_hotArea(t,s){clearallhotCross(),$(s).addClass("active").siblings(".subs").removeClass("active"),$("#"+t).addClass("activvv").removeClass("hide").siblings(".list-content").addClass("hide").removeClass("activvv"),window.hotCross=new Cross,autoOpne()}function change_hotArea_big(t,s){clearallhotCross(),$(".activvv ").removeClass("activvv"),$(s).addClass("active").siblings(".xxkbtn").removeClass("active"),2==t?($("#bktArea").addClass("hottype").removeClass("hide"),$("#ftbArea").addClass("hide").removeClass("hottype"),$("#btk_hots_all").addClass("activvv")):($("#bktArea").addClass("hide").removeClass("hottype"),$("#ftbArea").addClass("hottype").removeClass("hide"),$("#foot_hots_all").addClass("activvv")),window.hotCross=new Cross,autoOpne()}function fangda(t){$(t).parent().addClass("on")}function un_fangda(t){$(t).parent().removeClass("on")}Vue.component("match_layout",{data:()=>({lang:"name",chosed:!1,set_mrzk_id_handl:null,set_mrbh_id_handl:null,swot:{},win_num:null,flat_num:null,lose_num:null,all_match:null,home_score:0,home_change:!1,home_change_handle:null,away_score:0,away_change:!1,away_change_handle:null,showStatus:!0}),props:["match"],template:`\n    <div :id="'match_lier'+match.id" @mouseover="set_mrzk_id(match.id)" @mouseout="set_mrbh_id(match.id)" class="match-lier">\n        <div class="match-label box_h">\n            <div class="icon-area">\n                <i v-if="match.types==1" class="iconfont icon-event_goal"></i>\n                <i v-else class="iconfont icon-lanqiu"></i>\n            </div>\n            <div class="time">\n                <canvas ref="time1" width="80" height="18"></canvas>\n                <canvas ref="time2" width="80" height="16"></canvas>\n            </div>\n            <div class="eventname">\n                \n                <a v-if="match.event.cur_season_id && match.types==1" class="link" :href="'${STATIC_CONFIG.DATA}/zuqiu/comp-'+match.comp_id" target="_blank">{{match.event.name}}</a>\n                <a v-else-if="match.event.name=='NBA'" class="link" href="${STATIC_CONFIG.DATA}/lanqiu/nba" target="_blank">{{match.event.name}}</a>\n                <a v-else-if="match.event.name=='CBA'" class="link" href="${STATIC_CONFIG.DATA}/lanqiu/cba" target="_blank">{{match.event.name}}</a>\n                <span v-else>{{match.event.name}}</span>\n            </div>\n            <template v-if="showStatus">\n            \n                <div v-if="match.types == 1" class="status" :class="match.status >1 && match.status <8?'start':''"  v-html="formatStatus_foot(match)"></div>\n                <div v-else class="status"  :class="match.status >1 && match.status <10?'start':''"  v-html="formatStatus_bkt(match)"></div>\n\n            </template>\n            <div class="home">\n                <a v-if="match.types==1" class="links onhome" :class="home_change?'on':''" :href="'${STATIC_CONFIG.DATA}/zuqiu/team-'+match.home.id" target="_blank" :style="'background-image: url('+match.home.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'">\n                    <span class="name" :class="match.home.score[0] > match.away.score[0]?'win':''" >{{match.home.name}}</span>\n                </a>\n\n                <a v-else-if="match.event.name=='CBA' || match.event.name=='NBA'" :href="'${STATIC_CONFIG.DATA}/lanqiu/team-'+match.away.id" target="_blank" class="lanqiu-link onaway" :class="away_change?'on':''" :style="'background-image: url('+match.away.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'">\n                    \n                    <span class="name" :class="sumIt(match.home.score) < sumIt(match.away.score)?'win':''">{{match.away.name}}</span>\n                </a>\n\n                <div v-else class="lanqiu-link onaway" :class="away_change?'on':''" :style="'background-image: url('+match.away.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'">\n                    \n                    <span class="name" :class="sumIt(match.home.score) < sumIt(match.away.score)?'win':''">{{match.away.name}}</span>\n                </div>\n            </div>\n            <div class="td score">\n            \n                <a v-if="match.types==1" class="link" @mouseout="hidewin($event)"  rel="nofollow" @mouseover="showwin($event)" :href="'${STATIC_CONFIG.LIVE}/detail-'+match.id" target="_blank">\n                    <template v-if="match.status >1 && match.status < 9" class="red">\n                        <canvas ref="score" width="48" height="16"></canvas>\n                    </template>\n                    <template v-else>\n                        -\n                    </template>\n                </a>\n            \n                <a v-else class="link" @mouseout="hidewin($event)" @mouseover="showwin($event)"  rel="nofollow" :href="'${STATIC_CONFIG.LIVE}/lanqiu/detail-'+match.id" target="_blank">\n                    <template v-if="match.status >1 && match.status <11">\n                        <canvas ref="score" width="48" height="16"></canvas>\n                    </template>\n                    <template v-else>\n                        -\n                    </template>\n                </a>\n                \n            </div>\n            <div class="away">\n                <a v-if="match.types==1" class="links onaway" :class="away_change?'on':''" :href="'${STATIC_CONFIG.DATA}/zuqiu/team-'+match.away.id"  target="_blank" :style="'background-image: url('+match.away.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'" >\n                    <span class="name" :class="match.home.score[0] < match.away.score[0]?'win':''">{{match.away.name}}</span>\n                </a>\n                <a v-else-if="match.event.name=='CBA' || match.event.name=='NBA'" :href="'${STATIC_CONFIG.DATA}/lanqiu/team-'+match.home.id" target="_blank" class="lanqiu-link onhome" :class="home_change?'on':''" :style="'background-image: url('+match.home.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'">\n                    \n                    <span class="name" :class="sumIt(match.home.score) > sumIt(match.away.score)?'win':''">{{match.home.name}}</span>\n                </a>\n                <div v-else class="lanqiu-link onhome" :class="home_change?'on':''" :style="'background-image: url('+match.home.logo+'${STATIC_CONFIG.qiniu.w200});background-size: 16px;'">\n               \n                    <span class="name" :class="sumIt(match.home.score) > sumIt(match.away.score)?'win':''">{{match.home.name}}</span>\n                </div>\n            </div>\n            <div class="flex1">\n            \n            </div>\n\n            <div class="more">\n            \n                <template v-if="match.types==1">\n                    <a v-if="match.analysis_count>0" class="v-icon color-666" :href="'${STATIC_CONFIG.GUIDE}/swot-'+match.id" target="_blank">\n                        <svg class="icon" aria-hidden="true">\n                            <use xlink:href="#icon-intelligence"></use>\n                        </svg>\n                        情报 {{ match.analysis_count }}\n                    </a>\n                    <a class="iconfont icon-next" rel="nofollow" :href="'${STATIC_CONFIG.LIVE}/shujufenxi-'+match.id" target="_blank"></a>\n                    <a v-if="weiyu(match.menu,7)" rel="nofollow" title="足球直播" class="iconfont icon-liveanimation" :href="'${STATIC_CONFIG.LIVE}/detail-'+match.id" target="_blank"></a>\n                    <a v-else-if="weiyu(match.menu,6)" rel="nofollow" title="足球直播" class="iconfont football icon-live-animation" :href="'${STATIC_CONFIG.LIVE}/detail-'+match.id" target="_blank"></a>\n                </template>\n                <template v-else>\n                    <a v-if="match.analysis_count>0" class="v-icon color-666" :href="'${STATIC_CONFIG.GUIDE}/lanqiu/swot-'+match.id" target="_blank">\n                        <svg class="icon" aria-hidden="true">\n                            <use xlink:href="#icon-intelligence"></use>\n                        </svg>\n                        情报 {{ match.analysis_count }}\n                    </a>\n                  \n                   \n                    <a class="iconfont icon-next"  rel="nofollow" :href="'${STATIC_CONFIG.LIVE}/lanqiu/shujufenxi-'+match.id" target="_blank"></a>\n                    \n                    <a v-if="weiyu(match.menu,7)" rel="nofollow" title="篮球直播" class="iconfont icon-liveanimation" :href="'${STATIC_CONFIG.LIVE}/lanqiu/detail-'+match.id" target="_blank"></a>\n                    <a v-else-if="weiyu(match.menu,6)" rel="nofollow" title="篮球直播" class="iconfont alt icon-live-animation on" :href="'${STATIC_CONFIG.LIVE}/lanqiu/detail-'+match.id"  target="_blank"></a>\n\n                </template>\n            </div>\n        </div>\n        <div class="info-label">\n            <div class="cont box_h">\n                <div class="flex1"></div>\n                <div class="tema_match_history">\n                    <div class="box_h line">\n                        <div class="win" :style="'width:'+(win_num/all_match)*370+'px'"></div>\n                        <div class="pp" :style="'width:'+(flat_num/all_match)*370+'px'"></div>\n                        <div class="lose" :style="'width:'+(lose_num/all_match)*370+'px'"></div>\n                    </div>\n                    <template v-if="match.types == 1">\n                    <div class="rank-area box_h">\n                        <div class="pm home_pm">\n                            <div class="num" v-if="swot.home_position">{{swot.home_position}}</div>\n                            <div class="num" v-else>--</div>\n                            <div class="txt">排名</div>\n                        </div>\n                        <div class="info">\n                            <div class="h3">两队交锋{{ all_match }}次，主队<span class="ss">{{ win_num }}</span>胜<span class="pp">{{ flat_num }}</span>平<span class="ff">{{ lose_num }}</span>负</div>\n                            <div class="spf box_h">\n                                <div class="flex1"></div>\n                                <div class="home_zs">\n                                    <template v-for="(ktem,jey) in swot.h_results">\n                                        <template v-if="jey < 6">\n                                            <span v-if="ktem === -1" class="f"></span>\n                                            <span v-else-if="ktem ===  0" class="p"></span>\n                                            <span v-else="ktem ===  1" class="s"></span>\n                                        </template>\n                                    </template>\n                                </div>\n                                <div class="zs">近6场走势</div>\n                                <div class="away_zs">\n                                    <template v-for="(ktem,jey) in swot.a_results">\n                                        <template v-if="jey < 6">\n                                            <span v-if="ktem === -1" class="f"></span>\n                                            <span v-else-if="ktem ===  0" class="p"></span>\n                                            <span v-else="ktem ===  1" class="s"></span>\n                                        </template>\n                                    </template>\n                                </div>\n                                <div class="flex1"></div>\n                            </div>\n                        </div>\n                        <div class="pm away_pm">\n                            <div v-if="swot.away_position" class="num">{{swot.away_position}}</div>\n                            <div v-else class="num">--</div>\n                            <div class="txt">排名</div>\n                        </div>\n                    </div>\n                    </template>\n                    <template v-else>\n                    <div class="rank-area box_h">\n                        \n                        <div class="pm away_pm">\n                            <div class="pm away_pm">\n                                <div v-if="swot.away_position" class="num">{{swot.away_position}}</div>\n                                <div v-else class="num">--</div>\n                                <div class="txt">排名</div>\n                            </div>\n                        </div>\n                        <div class="info">\n                            <div class="h3">两队交锋{{ all_match }}次，主队<span class="ss">{{ win_num }}</span>胜<span class="pp">{{ flat_num }}</span>平<span class="ff">{{ lose_num }}</span>负</div>\n                            <div class="spf box_h">\n                                <div class="flex1"></div>\n                                <div class="away_zs">\n                                    <template v-for="(ktem,jey) in swot.a_results">\n                                        <template v-if="jey < 6">\n                                            <span v-if="ktem === -1" class="f"></span>\n                                            <span v-else-if="ktem ===  0" class="p"></span>\n                                            <span v-else="ktem ===  1" class="s"></span>\n                                        </template>\n                                    </template>\n                                </div>\n                                <div class="zs">近6场走势</div>\n                                <div class="home_zs">\n                                    <template v-for="(ktem,jey) in swot.h_results">\n                                        <template v-if="jey < 6">\n                                            <span v-if="ktem === -1" class="f"></span>\n                                            <span v-else-if="ktem ===  0" class="p"></span>\n                                            <span v-else="ktem ===  1" class="s"></span>\n                                        </template>\n                                    </template>\n                                </div>\n                                <div class="flex1"></div>\n                            </div>\n                        </div>\n                        <div class="pm home_pm">\n                            <div class="num" v-if="swot.home_position">{{swot.home_position}}</div>\n                            <div class="num" v-else>--</div>\n                            <div class="txt">排名</div>\n                        </div>\n                    </div>\n                    </template>\n                </div>\n                <div class="flex1"></div>\n            </div>\n        </div>\n    </div>    \n    `,methods:{showwin(){},hidewin(){},weiyu:(t,s)=>t&1<<s,set_home_change(){this.home_change_handle&&window.clearTimeout(this.home_change_handle),this.home_change=!0,this.home_change_handle=window.setTimeout(()=>{this.home_change=!1},3e3)},set_away_change(){this.away_change_handle&&window.clearTimeout(this.away_change_handle),this.away_change=!0,this.away_change_handle=window.setTimeout(()=>{this.away_change=!1},3e3)},formatStatus_foot(t){if(1==t.status)return'<span class="">未</span>';if(2==t.status){let s=parseInt((Date.parse(new Date)/1e3-t.uptime-STATIC_CONFIG.DIFFTIME)/60)+1;return num=s<15?1:s<30?2:3,s>45&&(s="45+"),`<span class="">\n                            <i class="iconfont icon-iconclock0${num} m-r-3 v-a-m"></i>${s}<span class="ap-code-dian">'</span>\n                        </span>`}if(3==t.status)return'<span class=""><i class="iconfont icon-iconclock03 m-r-3 v-a-m"></i>中</span>';if(4==t.status){let s=parseInt((Date.parse(new Date)/1e3-t.uptime-STATIC_CONFIG.DIFFTIME)/60)+46;return num=s<60?4:s<75?5:6,s>90&&(s="90+"),`<span class="">\n                            <i class="iconfont icon-iconclock0${num} m-r-3 v-a-m"></i>${s}<span class="ap-code-dian">'</span>\n                        </span>`}if(t.status<8);else{if(8==t.status)return'<span class="">完</span>';if(t.status>8)return`<span class="">${STATIC_CONFIG.GAME_STATE.FOOTBALL[t.status]}</span>`}},formatStatus_bkt(t){if(1==t.status)return'<span class="">未</span>';if(t.status>1&&t.status<10){if(t.status%2==0){let s=parseInt(t.uptime/60),e=t.uptime%60;s<10&&(s="0"+s),e<10&&(e="0"+e);let a=s+":"+e;return`\n                        <span class="btk_status">${STATIC_CONFIG.GAME_STATE.BASKETBALL[t.status]}</span>\n                        <span class="livetime">${a}</span>\n                    `}return`<span class="btk_status">${STATIC_CONFIG.GAME_STATE.BASKETBALL[t.status]}</span>`}return 10==t.status?'<span class="">完</span>':`<span class="">${STATIC_CONFIG.GAME_STATE.BASKETBALL[t.status]}</span>`},sumIt(t){let s=0;return t.forEach(t=>{s+=t}),s},set_mrzk_id(t){window.clearTimeout(this.set_mrbh_id_handl),this.set_mrzk_id_handl=window.setTimeout(()=>{$(".match-lier.active").removeClass("active"),$("#match_lier"+t).addClass("active")},200)},set_mrbh_id(){window.clearTimeout(this.set_mrzk_id_handl),this.set_mrbh_id_handl=window.setTimeout(()=>{$(".match-lier.active").removeClass("active")},200)},djs(){this.showStatus=!1,this.$nextTick(()=>{this.showStatus=!0}),1==this.match.types&&this.match.status>1&&this.match.status<8&&window.setTimeout(this.djs,6e4)}},created(){this.swot=this.match.swot,this.win_num=this.swot.recent_rivals_result[0],this.flat_num=this.swot.recent_rivals_result[1],this.lose_num=this.swot.recent_rivals_result[2],this.all_match=this.win_num+this.flat_num+this.lose_num,1==this.match.types?(this.home_score=this.match.home.score[0],this.away_score=this.match.away.score[0]):(this.home_score=this.sumIt(this.match.home.score),this.away_score=this.sumIt(this.match.away.score))},mounted(){if(this.$refs.score){let t="";t=1==this.match.types?this.match.home.score[0]+"-"+this.match.away.score[0]:this.sumIt(this.match.away.score)+"-"+this.sumIt(this.match.home.score),$.rvas(t,this.$refs.score,"#1E90FF",48,16)}const t=new Date(parseInt(1e3*this.match.match_time)),s=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();$.rvas(`${a}:${i}`,this.$refs.time1,"#1E90FF",80,16,14),$.rvas(`${s}-${e}`,this.$refs.time2,"#333333",80,16),this.djs()},filters:{getTime_S(t){if(t){const s=new Date(parseInt(1e3*t));s.getFullYear(),s.getMonth()+1<10?s.getMonth():s.getMonth(),s.getDate()<10?s.getDate():s.getDate();return(s.getHours()<10?"0"+s.getHours():s.getHours())+":"+(s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes())}return"无"},status_foot(t){switch(t){case 0:return"异常";case 1:return"未";case 2:return"上";case 3:return"中";case 4:return"下";case 5:case 6:return"加时";case 7:return"点球";case 8:return"完场";case 9:return"推迟";case 10:return"中断";case 11:return"腰斩";case 12:return"取消";case 13:return"待定"}},status_bkt(t){switch(t){case 0:return"异常";case 1:return"未";case 2:return"第一节";case 3:return"第一节完";case 4:return"第二节";case 5:return"第二节完";case 6:return"第三节";case 7:return"第三节完";case 8:return"第四节";case 9:return"加时";case 10:return"已完赛";case 11:return"中断";case 12:return"取消";case 13:return"延期";case 14:return"腰斩";case 15:return"待定"}}},watch:{match:{handler(t,s){if(1==t.types)t.home.score[0]>this.home_score&&this.set_home_change(),t.away.score[0]>this.away_score&&this.set_away_change(),this.home_score=t.home.score[0],this.away_score=t.away.score[0],$.rvas(this.home_score+"-"+this.away_score,this.$refs.score,"#1E90FF",48,16);else{let s=this.sumIt(t.home.score),e=this.sumIt(t.away.score);s>this.home_score&&this.set_home_change(),e>this.away_score&&this.set_away_change(),this.home_score=s,this.away_score=e,$.rvas(this.away_score+"-"+this.home_score,this.$refs.score,"#1E90FF",48,16)}},deep:!0}}}),window.setCross_size=5,window.setCross_itemWidth=115,window.autoOpneIndex=0,window.autoOpnePageIndex=1,window.autoOpneHandle=null,window.hotCross=null,window.hotCross_liers=null,window.hotCross_out=null,$(function(){window.hotCross=new Cross,autoOpne()}),function(t,s,e,a,i){t[e]=t[e]||function(){(t[e].a=t[e].a||[]).push(arguments)},(i=s.createElement("script")).async=!0,i.src="https://qiyukf.com/script/f02d572624b90ee6540e196e2b9bcb89.js",s.body.appendChild(i)}(window,document,"ysf");var popMedia_show_Handl=null,popMedia_hide_Handl=null;function popMedia(t){var s=$(t).parent(".team")[0];window.clearTimeout(popMedia_hide_Handl),popMedia_show_Handl=window.setTimeout(()=>{let t=$(s).find(".team-logo").find("img").attr("src"),e=$(s).attr("best_rank").split(","),a=$(s).attr("recent_results").split(""),i=$(s).attr("badge"),n="",o="",l=0,h=0;"seasonally"==e[1]?n="季榜":"monthly"==e[1]?n="月榜":"weekly"==e[1]&&(n="周榜"),"dc"==e[2]?o="竞彩（单）":"jc"==e[2]?o="竞彩":"bj"==e[2]?o="北单":"bd"==e[2]&&(o="北单（单）");for(let t=0;t<10;t++)"W"==a[t]&&l++,"L"==a[t]&&h++;$(".mediaInfo").find("#mediaInfoImg").attr("src",t),$(".mediaInfo").find(".win").text(l),$(".mediaInfo").find(".lose").text(h),$(".mediaInfo").find(".ico").text(i+"连中"),$(".mediaInfo").find(".name").text($(s).find(".team-name").text()),$(".mediaInfo").find(".nub").text(n+"NO."+e[0]),$(".mediaInfo").find(".jc_type").text(o),$(".mediaInfo").find(".fhl").text(parseInt(1e4*e[3])/100+"%"),$(".mediaInfo").find(".mzl").text(parseInt(1e4*e[4])/100+"%");let c=$(s).find(".team-name").offset().top-$(document).scrollTop(),r=$(s).find(".team-name").offset().left+60;$(".mediaInfo").removeClass("hide").css({left:r+"px",top:c+"px"})},300)}function unpopMedia(){window.clearTimeout(popMedia_show_Handl),popMedia_hide_Handl=window.setTimeout(()=>{$(".mediaInfo").addClass("hide")},300)}var vue_maps=new Vue({el:"#maps",data:function(){return{destroyedHandl:null,jmdata:null,events:{},allMatchs:[],zr_mlist:[],jr_mlist:[],mr_mlist:[],event_mlist:{},live_mlist:[],will_mlist:[],end_mlist:[],other_mlist:[],showMatch_type:1,sport_type:0,date_type:1,difftime:0,client:null,pageleaveTime:null,event_mlist_top_ids:[],event_mlist_top:[]}},created(){$("#remo").remove(),$(".node_active").removeClass("node_active");let t=localStorage.getItem("event_mlist_top_ids");this.event_mlist_top_ids=t?JSON.parse(t):[],this.jmdata=JSON.parse($.rot(mLog,STATIC_CONFIG.KST)),this.init_Matchs()},mounted(){this.init(),this.client=this.init_connect(),this.difftime=STATIC_CONFIG.DIFFTIME?STATIC_CONFIG.DIFFTIME:0,document.addEventListener("visibilitychange",()=>{if(!0===document.hidden)this.pageleaveTime=Date.parse(new Date)/1e3,this.destroyedHandl=window.setTimeout(()=>{this.client.end()},66e4);else{Date.parse(new Date)/1e3-this.pageleaveTime>600?window.location.reload():window.clearTimeout(this.destroyedHandl)}}),$(".time-px").find(".match-lier").eq(0).addClass("active")},destroyed(){this.client.end()},methods:{init_Matchs(){let t=Date.parse(new Date((new Date).setHours(0,0,0,0)))/1e3-1,s=t+86400-1,e={};for(let t in this.jmdata.football.events)e[t]=this.jmdata.football.events[t];for(let t in this.jmdata.basketball.events)e[t]=this.jmdata.basketball.events[t];let a=[];this.jmdata.basketball.matches.forEach(e=>{e.types=2,e.match_time<t?e.dt=0:e.match_time>t&&e.match_time<s?e.dt=1:e.match_time>s&&(e.dt=2),a.push(e)}),this.jmdata.football.matches.forEach(e=>{e.types=1,e.match_time<t?e.dt=0:e.match_time>t&&e.match_time<s?e.dt=1:e.match_time>s&&(e.dt=2),a.push(e)}),a.sort(function(t,s){return t.match_time-s.match_time}),a.forEach(t=>{t.event=e[t.comp_id]}),this.allMatchs=a,this.events=e,this.get_showList()},get_showList(){let t=Date.parse(new Date((new Date).setHours(0,0,0,0)))/1e3-1,s=t+86400-1;this.zr_mlist=[],this.jr_mlist=[],this.mr_mlist=[];let e=[],a=[];this.allMatchs.forEach(e=>{e.match_time<t?this.zr_mlist.push(e):e.match_time>t&&e.match_time<s?this.jr_mlist.push(e):e.match_time>s&&this.mr_mlist.push(e)}),0==this.date_type?e=this.zr_mlist:1==this.date_type?e=this.jr_mlist:2==this.date_type&&(e=this.mr_mlist),e.forEach(t=>{0==this.sport_type?a.push(t):1==this.sport_type&&1==t.types?a.push(t):2==this.sport_type&&2==t.types&&a.push(t)}),this.live_mlist=[],this.will_mlist=[],this.end_mlist=[],this.other_mlist=[],this.event_mlist={},a.forEach(t=>{1==t.types?1==t.status?this.will_mlist.push(t):8==t.status?this.end_mlist.push(t):t.status>1&&t.status<8?this.live_mlist.push(t):this.other_mlist.push(t):2==t.types&&(1==t.status?this.will_mlist.push(t):10==t.status?this.end_mlist.push(t):t.status>1&&t.status<10?this.live_mlist.push(t):this.other_mlist.push(t)),this.event_mlist[t.comp_id]?this.event_mlist[t.comp_id].child.push(t):(this.event_mlist[t.comp_id]=JSON.parse(JSON.stringify(this.events[t.comp_id])),this.event_mlist[t.comp_id].child=[t],this.event_mlist[t.comp_id].id=t.comp_id)}),this.event_mlist_top_ids.forEach(t=>{for(let s in this.event_mlist)s==t&&this.event_mlist_top.push(this.event_mlist[s])})},init(){},init_connect(){const t="Leisu_P_"+(Login.userData?Login.userData.uid:0)+"_"+Math.random().toString(16).substr(2,12)+Math.random().toString(16).substr(2,12),s=mqtt.connect(STATIC_CONFIG.MQTT,{clientId:t,username:$(".leisu_user").getScor11(),password:"adcd23"});return s.on("connect",function(){s.subscribe("live/football/inplay_v2"),s.subscribe("live/basketball/inplay_v2")}),s.on("message",(t,s)=>{const e=JSON.parse(s);if(11141==e[0]){let t=e[2];JSON.parse($.rot(e[1],t)).forEach(t=>{var s=!1;this.allMatchs.forEach(e=>{t.id==e.id&&(e.status!=t.status&&(s=!0),e.status=t.status,e.uptime=t.uptime,e.home.score=t.home.score,e.away.score=t.away.score,e.time_line=t.time_line)}),s&&2==t.status?(this.will_mlist.forEach(s=>{s.id==t.id&&(this.will_mlist.remove(s),this.live_mlist.push(s))}),this.live_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.livevvv=!0)})):s&&8==t.status?(this.live_mlist.forEach(s=>{s.id==t.id&&(this.live_mlist.remove(s),this.end_mlist.push(s))}),this.end_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.finishvvv=!0)})):this.live_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.jxvvvv=!0)})})}if(11241==e[0]){let t=e[2];JSON.parse($.rot(e[1],t)).forEach(t=>{this.allMatchs.forEach(s=>{t.id==s.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line)}),2==t.status?(this.will_mlist.forEach(s=>{s.id==t.id&&(this.will_mlist.remove(s),this.live_mlist.push(s))}),this.live_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.livevvv=!0)})):10==t.status?(this.live_mlist.forEach(s=>{s.id==t.id&&(this.live_mlist.remove(s),this.end_mlist.push(s))}),this.end_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.finishvvv=!0)})):this.live_mlist.forEach(s=>{s.id==t.id&&(s.status=t.status,s.uptime=t.uptime,s.home.score=t.home.score,s.away.score=t.away.score,s.time_line=t.time_line,s.jxvvvv=!0)})})}}),s},change_day(t){this.date_type=t,this.get_showList()},change_sport(t){this.sport_type=t,this.get_showList()},change_showMatchType(t){this.showMatch_type=t},topIt(t,s){let e=JSON.parse(JSON.stringify(t));e.id=s,this.event_mlist_top_ids.unshift(s),localStorage.setItem("event_mlist_top_ids",JSON.stringify(this.event_mlist_top_ids)),this.event_mlist_top.unshift(e)},un_topIt(t){this.event_mlist_top_ids.remove(t.id+""),this.event_mlist_top.remove(t),this.event_mlist_top.push(""),this.event_mlist_top.pop(),localStorage.setItem("event_mlist_top_ids",JSON.stringify(this.event_mlist_top_ids))},top_ids_has(t){return this.event_mlist_top_ids.indexOf(t)>-1}}});function roatit(t){t>180?($(".right-roat").css({transform:"rotate(180deg)"}),$(".right-cont").css({transform:"rotate("+(t-180)+"deg)"})):($(".right-cont").css({transform:"rotate(0deg)"}),$(".right-roat").css({transform:"rotate("+t+"deg)"}))}function showMedia(){if(!window[hms_])return;400==$("#mediaRankList").height()?($("#mediaRankList").css({height:"0px","margin-top":"0px"}),$(".arrowSpread").removeClass("rotate")):($("#mediaRankList").css({height:"400px","margin-top":"10px"}),$(".arrowSpread").addClass("rotate"),vue_media_rank.initSwiper())}var vue_media_rank=new Vue({el:"#mediaRankList",data:()=>({foot_win:[],bkt_win:[],foot_lose:[],bkt_lose:[],showStreak:[],showList:[],list:{},type:1,playType:"bj",rankType:"weekly",rateType:"return_rate",streakType:"win",mySwiper:null,accuracy:0}),created(){if(!window[hms_])return;this.list=JSON.parse($.rot(window[hms_],STATIC_CONFIG.KST));let t=this.type+"_"+this.playType+"_"+this.rankType+"_"+this.rateType;this.showList=this.list[t],this.foot_win=this.list["1_win"]||[],this.foot_lose=this.list["1_lose"]||[],this.bkt_win=this.list["2_win"]||[],this.bkt_lose=this.list["2_lose"]||[],this.initStreak()},mounted(){},methods:{initRank(){let t=this.type+"_"+this.playType+"_"+this.rankType+"_"+this.rateType;if(this.showList=this.list[t],this.showList.length>0){this.accuracy=parseInt(1e4*this.showList[0].accuracy)/100||0,roatit((360*this.showList[0].accuracy).toFixed(0))}this.$nextTick(()=>{this.mySwiper.update(),this.mySwiper.slideTo(0,1e3,!1)})},initSwiper(){let t=this;if(this.showList.length>0){roatit((360*this.showList[0].accuracy).toFixed(0)),this.accuracy=parseInt(1e4*this.showList[0].accuracy)/100||0}this.mySwiper=new Swiper("#meidaRank",{loop:!1,observer:!0,pagination:{el:".swiper-pagination",clickable:!0},on:{slideChange:function(){let s=t.showList[this.activeIndex];if(s){roatit((360*s.accuracy).toFixed(0)),t.accuracy=parseInt(1e4*t.showList[this.activeIndex].accuracy)/100||0}}}})},initStreak(){1==this.type&&"win"==this.streakType?this.showStreak=this.foot_win:1==this.type&&"lose"==this.streakType?this.showStreak=this.foot_lose:2==this.type&&"win"==this.streakType?this.showStreak=this.bkt_win:2==this.type&&"lose"==this.streakType&&(this.showStreak=this.bkt_lose)},rankFilter(t,s){let e="",a="";switch(t){case"bj":a="北单";break;case"bd":a="北单(单)";break;case"jc":a="竞彩";break;case"dc":a="竞彩(单)"}switch(s){case"weekly":e="周榜";break;case"monthly":e="月榜";break;case"seasonally":e="季榜"}return a+e}},components:{},watch:{streakType(){this.initStreak()},type(){this.initRank(),this.initStreak()},playType(){this.initRank()},rankType(){this.initRank()},rateType(){this.initRank()}}}),news_hot=new Vue({el:"#newsHot",data:()=>({active_index:0,active_page:0,loading:!1,openHand:null,allPage:0}),created(){this.allPage=Math.ceil($("#newsHot").find(".lier").length/7)},methods:{nextPage(){this.active_page++,this.active_page==this.allPage&&(this.active_page=0),$("#newsHot").find(".lier").removeClass("active"),this.active_index=7*this.active_page},openthis(t){this.openHand=window.setTimeout(()=>{$("#newsHot").find(".lier").eq(t).addClass("active").siblings(".lier").removeClass("active")},300)},clear_openthis(){window.clearTimeout(this.openHand)}},components:{},watch:{}}),rank_able=new Vue({el:"#rankTable",data:function(){return{sport:"football",currentcomps:82,position:"east"}},created(){$("#rankTable #ranklist").remove(),$("#rankTable #ranklistTitle").remove(),$("#rankTable .node_active").removeClass("node_active")},mounted(){localStorage.getItem("HMT_VG")&&this.d_media()},methods:{d_media(){if(window[hms2_]){let t=JSON.parse($.rot(window[hms2_],STATIC_CONFIG.KST)),s=t.basketball.tables[3].length>0?t.basketball.tables[3][0].rows:[],e=t.basketball.tables[1].length>0?t.basketball.tables[1][1].rows:[],a=t.basketball.tables[1].length>0?t.basketball.tables[1][0].rows:[],i=t.football.table_rows[82],n=t.football.table_rows[108],o=t.football.table_rows[120],l=t.football.table_rows[129],h=t.football.table_rows[142];$("#tabels10").find(".item").each(function(t){$(this).find("canvas").each(function(s){if(0===s){let s;s=a[t].won+a[t].loss==0?0:parseInt(a[t].won/(a[t].won+a[t].loss)*100),$.rvas(s+"%",this,"#e74c5b",30)}else 1===s?$.rvas(a[t].won,this,"#333",30):$.rvas(a[t].loss,this,"#333",30)})}),$("#tabels11").find(".item").each(function(t){$(this).find("canvas").each(function(s){if(0===s){let s;s=e[t].won+e[t].loss==0?0:parseInt(e[t].won/(e[t].won+e[t].loss)*100),$.rvas(s+"%",this,"#e74c5b",30)}else 1===s?$.rvas(e[t].won,this,"#333",30):$.rvas(e[t].loss,this,"#333",30)})}),$("#tabels30").find(".item").each(function(t){$(this).find("canvas").each(function(e){if(0===e){let e=parseInt(s[t].won/(s[t].won+s[t].loss)*100);$.rvas(e+"%",this,"#e74c5b",30)}else 1===e?$.rvas(s[t].won,this,"#333",30):$.rvas(s[t].loss,this,"#333",30)})}),$("#tabels82").find(".item").each(function(t){$(this).find("canvas").each(function(s){0===s?$.rvas(i[t].won+"/"+i[t].draw+"/"+i[t].loss,this,"#333",50):$.rvas(i[t].points,this,"#e74c5b")})}),$("#tabels108").find(".item").each(function(t){$(this).find("canvas").each(function(s){0===s?$.rvas(n[t].won+"/"+n[t].draw+"/"+n[t].loss,this,"#333",50):$.rvas(n[t].points,this,"#e74c5b")})}),$("#tabels120").find(".item").each(function(t){$(this).find("canvas").each(function(s){0===s?$.rvas(o[t].won+"/"+o[t].draw+"/"+o[t].loss,this,"#333",50):$.rvas(o[t].points,this,"#e74c5b")})}),$("#tabels129").find(".item").each(function(t){$(this).find("canvas").each(function(s){0===s?$.rvas(l[t].won+"/"+l[t].draw+"/"+l[t].loss,this,"#333",50):$.rvas(l[t].points,this,"#e74c5b")})}),$("#tabels142").find(".item").each(function(t){$(this).find("canvas").each(function(s){0===s?$.rvas(h[t].won+"/"+h[t].draw+"/"+h[t].loss,this,"#333",50):$.rvas(h[t].points,this,"#e74c5b")})})}},bgcolor:t=>t&&`background-color:${t.color};`,win_rate:t=>parseInt(100*t)+"%",changeType(t){this.sport=t,"basketball"==t?($(".rankTable_bkt_more").removeClass("hide"),$(".rankTable_foot_more").addClass("hide")):($(".rankTable_foot_more").removeClass("hide"),$(".rankTable_bkt_more").addClass("hide"))},getflag(t,s){return t==this.currentcomps&&(3==t||(1==t?"east"==this.position&&0==s||"west"==this.position&&1==s:void 0))}},watch:{currentcomps(){this.position="east"},sport(t){this.currentcomps="football"===t?82:1}}});function page_call(){rank_able.d_media()}new Vue({el:"#shooter",data:function(){return{sport_id:1,football:{comp_id:""},basketball:{comp_id:""},init_ftb_comp_id:"",init_bsk_comp_id:"",f_list:null,b_list:null}},created(){this.initData(),$("#shooter .node_active").removeClass("node_active"),$("#shooter .hide").removeClass("hide"),this.football.comp_id=this.init_ftb_comp_id=$("#shooter .rank-list .football").attr("comp_id"),this.basketball.comp_id=this.init_bsk_comp_id=$("#shooter .rank-list .basketball").attr("comp_id")},mounted(){localStorage.getItem("HMT_VG")&&this.drawit()},methods:{initData(){let t=JSON.parse($.rot(shlist,STATIC_CONFIG.KST));this.f_list=t.football.score_rank,this.b_list=t.basketball.score_rank},drawit(){let t=this;$("#shooter .football  .result1 canvas").each(function(s){let e=$(this).attr("px").split("-"),a=e[0],i=e[1],n=t.f_list[a][i].matches;$.rvas(n,this,"#666",40,16,12,"")}),$("#shooter .football  .match-points1 canvas").each(function(s){let e=$(this).attr("px").split("-"),a=e[0],i=e[1],n=t.f_list[a][i].value;$.rvas(n,this,"#E74C5B",40,16,12,"")}),$("#shooter .basketball  .match-points1 canvas").each(function(s){let e=$(this).attr("px").split("-"),a=e[0],i=e[1],n=t.b_list[a][i].value;$.rvas(n,this,"#E74C5B",40,16,12,"")})},checkout_sport(t){this.sport_id=t,1==t?this.football.comp_id=this.init_ftb_comp_id:2==t&&(this.basketball.comp_id=this.init_bsk_comp_id)}},computed:{bsk_url(){switch(+this.basketball.comp_id){case 1:return`${STATIC_CONFIG.DATA}/lanqiu#player`;case 3:return`${STATIC_CONFIG.DATA}/lanqiu/cba#player`;default:return""}}}});